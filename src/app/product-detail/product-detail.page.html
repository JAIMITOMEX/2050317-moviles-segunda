<ion-header>
  <ion-toolbar>
    <ion-title>{{ product.name }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <img [src]="product.image" />
  <ion-card>
    <ion-card-header>
      <ion-card-title>{{ product.name }}</ion-card-title>
      <ion-row>
        <ion-col>
          <ion-icon name="star" *ngFor="let star of [1, 2, 3, 4, 5]" [color]="star <= product.averageRating ? 'primary' : 'medium'"></ion-icon>
          <p>
            <ion-button fill="clear" color="primary" [routerLink]="['/reviews']">
              {{ product.totalReviews }} reviews
            </ion-button>
          </p>
        </ion-col>
      </ion-row>
    </ion-card-header>
    <ion-card-content>
      <p>{{ product.type }}</p>
      <p>{{ product.price | currency }}</p>
      <p>{{ product.description }}</p>
      <ion-button (click)="openReviewModal()">Leave a Review</ion-button>
      <ion-item>
        <ion-label>Quantity</ion-label>
        <ion-button (click)="decrementQuantity()">-</ion-button>
        <ion-input [(ngModel)]="quantity" type="number" min="1"></ion-input>
        <ion-button (click)="incrementQuantity()">+</ion-button>
      </ion-item>
      <ion-button (click)="addToCarrito()">Add to Cart</ion-button>
    </ion-card-content>
  </ion-card>
</ion-content>